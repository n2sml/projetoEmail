<script>

    "use strict"


    var colecaoLivros = [];

    class Livro {
        constructor(titulo, autor, genero) {
            this.titulo = titulo;
            this.autor = autor;
            this.genero = genero;
            var ler = false;
        };

        getTitulo() {
            return this.titulo;
        };

        getGenero() {
            return this.genero;
        };

        getAutor() {
            return this.autor;
        };

        getLer() {
            return this.ler;
        }
    }

    function copiarObjeto(obj) {
        if (obj === null || typeof obj !== 'object') {
            return obj;
        }
        var temp = obj.constructor();
        for (var key in obj) {
            temp[key] = copiarObjecto(obj[key]);
        }
        return temp;
    }


    var proximoLivro = new Livro("A", "A", "A");
    var livroAtual = new Livro("A", "A", "A");
    var livroAnterior = new Livro("S", "A", "A");

    class ListaLivro {
        constructor() {
            var quantidadeLivros = 0;
            var livrosLidos = 0;
            var livrosNaoLidos = 0;
        };

        adicionar(umLivro) {
            colecaoLivros.push(umLivro);
            this.quantidadeLivros = colecaoLivros.length;
            this.livrosNaoLidos++;
            this.setarOrdem();
        }

        terminarLivro() {
            this.setarOrdem();
            livroAtual.ler = true;
            this.livrosLidos++;
            livroAnterior = copiarObjeto(livroAtual);
            livroAtual = copiarObjeto(colecaoLivros[LivrosLidos]);
            proximoLivro = copiarObjeto(colecaoLivros[livrosLidos + 1]);
        }

        setarOrdem() {
            //Coloca o ultimo livro do array com lido === true dentro
            //do atributo livroAnterior;
            for (let i = 0; i < colecaoLivros.length; i++) {
                if (colecaoLivros[i].getLer() == true) {
                    livroAnterior = copiarObjeto(colecaoLivros[i]);
                    //alert("livro anterior inserido");
                };
            };

            //Coloca o primeiro livro do array com lido === false dentro
            //do atributo livroAtual;
            for (let i = 0; i < colecaoLivros.length; i++) {
                if (colecaoLivros[i].getLer() == false) {
                    livroAtual = copiarObjeto(colecaoLivros[i]);
                    break;
                    //alert("livro atual inserido");
                };
            };

            //Coloca o SEGUNDO livro do array com lido === false dentro
            //do atributo proximoLivro;
            for (let i = 0; i < colecaoLivros.length; i++) {
                if (colecaoLivros[i].getLer() == false) {
                    livroAtual = copiarObjeto(colecaoLivros[i + 1]);
                    break;
                    //alert("proximo livro inserido");
                };
            };

        }

        exibirLivro(posicao) {
            alert(colecaoLivros[posicao].titulo + ", " + colecaoLivros[posicao].autor + ", " + colecaoLivros[posicao].genero);
        }

    };


    var livroUm = new Livro('Harry Potter', 'JK Howling', 'Aventura', );
    var livroDois = new Livro('Java: Use a cabeça!', 'Kathy Sierra', 'Programação', );

    let minhaColecao = new ListaLivro();
    minhaColecao.adicionar(livroUm);
    minhaColecao.adicionar(livroDois);

    minhaColecao.exibirLivro(0);
    minhaColecao.exibirLivro(1);

    alert("Livro anterior: " + livroAnterior.getTitulo());
    // alert("Livro atual: " + livroAtual.titulo);
    // alert("Proximo livro: " + proximoLivro.titulo);





</script>